<Window x:Class="DesktopCustomizer.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Desktop Customizer Settings" 
        Width="500" Height="600"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize"
        Background="#2D2D2D"
        Icon="app.ico">
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">
            
            <!-- Header -->
            <TextBlock Text="Desktop Customizer v1.0" 
                      FontSize="24" 
                      FontWeight="Bold" 
                      Foreground="White" 
                      HorizontalAlignment="Center" 
                      Margin="0,0,0,20"/>
            
            <!-- Theme Settings -->
            <GroupBox Header="Theme Settings" 
                     Foreground="White" 
                     BorderBrush="#404040" 
                     Margin="0,10">
                <GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" 
                                  FontWeight="Bold" 
                                  FontSize="16" 
                                  Foreground="White"/>
                    </DataTemplate>
                </GroupBox.HeaderTemplate>
                
                <StackPanel Margin="10">
                    
                    <!-- Primary Color -->
                    <Label Content="Primary Color (Hex):" 
                          Foreground="White" 
                          FontWeight="SemiBold"/>
                    <TextBox x:Name="PrimaryColorText" 
                            Style="{StaticResource ModernTextBoxStyle}"
                            TextChanged="ColorTextBox_TextChanged"/>
                    
                    <!-- Background Color -->
                    <Label Content="Background Color (Hex):" 
                          Foreground="White" 
                          FontWeight="SemiBold" 
                          Margin="0,10,0,0"/>
                    <TextBox x:Name="BackgroundColorText" 
                            Style="{StaticResource ModernTextBoxStyle}"
                            TextChanged="ColorTextBox_TextChanged"/>
                    
                    <!-- Opacity -->
                    <Label Content="Opacity:" 
                          Foreground="White" 
                          FontWeight="SemiBold" 
                          Margin="0,10,0,0"/>
                    <StackPanel Orientation="Horizontal">
                        <Slider x:Name="OpacitySlider" 
                               Minimum="20" 
                               Maximum="100" 
                               Width="200" 
                               ValueChanged="OpacitySlider_ValueChanged"
                               VerticalAlignment="Center"/>
                        <TextBlock x:Name="OpacityValue" 
                                  Text="90%" 
                                  Foreground="White" 
                                  Margin="10,0,0,0" 
                                  VerticalAlignment="Center"/>
                    </StackPanel>
                </StackPanel>
            </GroupBox>
            
            <!-- Widget Settings -->
            <GroupBox Header="Widget Visibility" 
                     Foreground="White" 
                     BorderBrush="#404040" 
                     Margin="0,10">
                <GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" 
                                  FontWeight="Bold" 
                                  FontSize="16" 
                                  Foreground="White"/>
                    </DataTemplate>
                </GroupBox.HeaderTemplate>
                
                <StackPanel Margin="10">
                    <CheckBox x:Name="ShowSystemWidget" 
                             Content="Show System Monitor Widget" 
                             Foreground="White" 
                             Margin="0,5"/>
                    <CheckBox x:Name="ShowClockWidget" 
                             Content="Show Clock Widget" 
                             Foreground="White" 
                             Margin="0,5"/>
                </StackPanel>
            </GroupBox>
            
            <!-- Preview -->
            <GroupBox Header="Preview" 
                     Foreground="White" 
                     BorderBrush="#404040" 
                     Margin="0,10">
                <GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" 
                                  FontWeight="Bold" 
                                  FontSize="16" 
                                  Foreground="White"/>
                    </DataTemplate>
                </GroupBox.HeaderTemplate>
                
                <Border x:Name="PreviewBorder" 
                       Background="#1E1E1E" 
                       CornerRadius="8" 
                       BorderBrush="#404040" 
                       BorderThickness="1" 
                       Padding="15" 
                       Margin="10"
                       Height="80">
                    <StackPanel>
                        <TextBlock Text="Sample Widget" 
                                  Foreground="White" 
                                  FontWeight="Bold" 
                                  HorizontalAlignment="Center"/>
                        <ProgressBar x:Name="PreviewProgress" 
                                   Height="8" 
                                   Background="#2D2D2D" 
                                   Foreground="#0078D4" 
                                   BorderThickness="0" 
                                   Maximum="100" 
                                   Value="65" 
                                   Margin="0,10,0,0"/>
                    </StackPanel>
                </Border>
            </GroupBox>
            
            <!-- Instructions -->
            <GroupBox Header="Instructions" 
                     Foreground="White" 
                     BorderBrush="#404040" 
                     Margin="0,10">
                <GroupBox.HeaderTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" 
                                  FontWeight="Bold" 
                                  FontSize="16" 
                                  Foreground="White"/>
                    </DataTemplate>
                </GroupBox.HeaderTemplate>
                
                <TextBlock Margin="10" 
                          Foreground="White" 
                          TextWrapping="Wrap">
                    <Run Text="• Drag widgets to move them around your desktop"/>
                    <LineBreak/>
                    <Run Text="• Right-click on widgets to access their settings"/>
                    <LineBreak/>
                    <Run Text="• Use the system tray icon to access this settings window"/>
                    <LineBreak/>
                    <Run Text="• Colors should be in hex format (e.g., #0078D4)"/>
                    <LineBreak/>
                    <Run Text="• Changes are automatically saved when you close the application"/>
                </TextBlock>
            </GroupBox>
            
            <!-- Buttons -->
            <StackPanel Orientation="Horizontal" 
                       HorizontalAlignment="Center" 
                       Margin="0,20">
                <Button x:Name="ApplyButton" 
                       Content="Apply Settings" 
                       Style="{StaticResource ModernButtonStyle}"
                       Click="ApplyButton_Click"/>
                <Button x:Name="ResetButton" 
                       Content="Reset to Defaults" 
                       Style="{StaticResource ModernButtonStyle}"
                       Background="#CC6600"
                       Click="ResetButton_Click"/>
                <Button x:Name="CloseButton" 
                       Content="Close" 
                       Style="{StaticResource ModernButtonStyle}"
                       Background="#666666"
                       Click="CloseButton_Click"/>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Window>